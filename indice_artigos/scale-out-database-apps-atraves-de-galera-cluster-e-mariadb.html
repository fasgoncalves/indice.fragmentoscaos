<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <title>Scale-Out Database apps atrav√©s de Galera Cluster e MariaDb</title>
    
<style>
body {
    font-family: Arial, sans-serif;
    padding: 1rem;
    background-color: #fff;
    color: #000;
    position: relative;
}

.close-button {
    position: absolute;
    top: 1rem;
    left: 1rem;
    font-size: 2rem;
    text-decoration: none;
    color: #003366; /* azul escuro */
    z-index: 1000;
    background: none;
    border: none;
}

@media (max-width: 768px) {
    .close-button {
        font-size: 2.5rem;
    }
}
</style>

</head>
<body>

    <a href="index.html" class="close-button" title="Voltar">‚úï</a>
    <h1>Scale-Out Database apps atrav√©s de Galera Cluster e MariaDb</h1>
    <div class="meta">
        <p><strong>üìÖ 2013-11-06</strong></p>
        <p><a href="https://fasgoncalves.github.io/fragmentoscaos-html/2013/11/scale-out-database-apps-atraves-de-galera-cluster-e-mariadb.html" target="_blank">üîó Ver artigo original</a></p>
    </div>

<p><img src="https://fasgoncalves.github.io/indice.fragmentoscaos/images/scale-out-database-apps-atraves-de-galera-cluster-e-mariadb.png" alt="Miniatura do artigo" /></p>

<div style="background-color: white; font-family: Verdana, sans-serif; font-size: 14px; line-height: 1.5; margin-right: 1.5em; margin-top: 1.5em;"><span style="background-color: #f6f6f6; font-family: Tahoma, Verdana, 'DejaVu Sans', sans-serif; line-height: 22.390625px;">O¬†<a style="background-image: url('http://www.softelabs.com/skins/common/icons/icon-lock.gif'); background-position: 100% 50%; background-repeat: no-repeat no-repeat; color: #956220; padding-right: 16px;" title="https://mariadb.org/en/" href="https://mariadb.org/en/" target="_blank" rel="external nofollow noopener">MariaDB¬†</a>√© o fork da base de dados relacional MySQL de c√≥digo aberto mais popular.¬†</span><span style="background-color: #f6f6f6; font-family: Tahoma, Verdana, 'DejaVu Sans', sans-serif; line-height: 22.390625px;">A comunidade MariaDB tem crescido exponencialmente nos √∫ltimos anos, e esta tornou-se a BD relacional padr√£o em muitas distribui√ß√µes Linux e tem sido activamente promovida por algumas das maiores empresas globais do mundo.</span></div>

<div style="background-color: white; font-family: Verdana, sans-serif; font-size: 14px; line-height: 1.5; margin-right: 1.5em; margin-top: 1.5em;">O¬†<a style="background-image: url('http://www.softelabs.com/skins/common/icons/icon-lock.gif'); background-position: 100% 50%; background-repeat: no-repeat no-repeat; color: #956220; padding-right: 16px;" title="https://downloads.mariadb.org/mariadb-galera/" href="https://downloads.mariadb.org/mariadb-galera/" target="_blank" rel="external nofollow noopener">MariaDB Galera Cluster</a> fornece tecnologia assente em replica√ß√£o s√≠ncrona multi-master. Usando o MariaDB Galera Cluster <img class="size-full wp-image-121 alignright" src="http://www.fragmentoscaos.eu/wp-content/uploads/2013/11/MariaDbLogo.png" alt="" width="160" height="160" />significa que seus dados est√£o mais seguros do que na replica√ß√£o master-slave tradicional, porque estes s√£o replicados imediatamente como parte do "commit",¬†semqualquer atraso. Al√©m disso, na replica√ß√£o "master-slave" tradicional, s√≥ pode efectuar "scale-out" para leitura, mas com MariaDB Galera Cluster pode ler e gravar em qualquer n√≥. Isso torna a vida mais f√°cil para os programadores, porque estes n√£o precisam de separar transa√ß√µes de leitura e escrita, nas transa√ß√µes a submeter √† BD. O seu c√≥digo n√£o precisa sequer ser alterado!</div>

<div style="background-color: white; font-family: Verdana, sans-serif; font-size: 14px; line-height: 1.5; margin-right: 1.5em; margin-top: 1.5em;"><strong>As principais caracter√≠sticas do Galera Cluster s√£o :</strong></div>

<div style="background-color: white; font-family: Verdana, sans-serif; font-size: 14px; line-height: 1.5; margin-right: 1.5em; margin-top: 1.5em;">N√£o h√° requisitos de failover - os n√≥s est√£o todos os activos e s√£o todos "master" nodes.</div>

<div style="background-color: white; font-family: Verdana, sans-serif; font-size: 14px; line-height: 1.5; margin-right: 1.5em; margin-top: 1.5em;">As aplica√ß√µes podem ler e escrever em qualquer n√≥ do cluster galera</div>

<div style="background-color: white; font-family: Verdana, sans-serif; font-size: 14px; line-height: 1.5; margin-right: 1.5em; margin-top: 1.5em;">Escalabilidade horizontal ( scale out ), tanto para leitura como para escrita.</div>

<ul style="background-color: white; font-family: Verdana, sans-serif; font-size: 14px; margin-bottom: 0px; margin-top: 1.5em;">
    <li style="line-height: 1.25;">Suporte de adi√ß√£o de novos n√≥s on-line</li>
</ul>

<ul style="background-color: white; font-family: Verdana, sans-serif; font-size: 14px; margin-bottom: 0px; margin-top: 1.5em;">
    <li style="line-height: 1.25;">Remo√ß√£o de n√≥ de forma f√°cil</li>
</ul>

<ul style="background-color: white; font-family: Verdana, sans-serif; font-size: 14px; margin-bottom: 0px; margin-top: 1.5em;">
    <li style="line-height: 1.25;">Resistente a redes de alta lat√™ncia, atrav√©s de conex√µes remotas</li>
</ul>

<ul style="background-color: white; font-family: Verdana, sans-serif; font-size: 14px; margin-bottom: 0px; margin-top: 1.5em;">
    <li style="line-height: 1.25;">Sem perda de dados!</li>
</ul>

<div style="background-color: white; font-family: Verdana, sans-serif; font-size: 14px; line-height: 1.5; margin-right: 1.5em; margin-top: 1.5em;">¬†<strong>Usando um Load-Balancer</strong></div>

<div style="background-color: white; font-family: Verdana, sans-serif; font-size: 14px; line-height: 1.5; margin-right: 1.5em; margin-top: 1.5em;"><img class="size-medium wp-image-122 alignright" src="http://www.fragmentoscaos.eu/wp-content/uploads/2013/11/haproxy_galera-272x300.png" alt="" width="272" height="300" />Atrav√©s da implementa√ß√£o de um balanceador de carga opcional (ex. Pen, Pound, HaProxy, etc), as aplica√ß√µes conectam-se a qualquer dos n√≥s do cluster para as transsa√ß√µes requeridas . Quando a aplica√ß√£o efectua um "commit", todos os dados alterados dentro da transa√ß√£o s√£o movido para os outros n√≥s do cluster Galera. A confirma√ß√£o estar√° concluida apenas quando todos os n√≥s tiverem recebido os dados. Desta forma, o impacto em termos de desempenho √© muito limitado.</div>

<div style="background-color: white; font-family: Verdana, sans-serif; font-size: 14px; line-height: 1.5; margin-right: 1.5em; margin-top: 1.5em;"><strong>Quando se aconselha o uso do Cluster Galera :</strong></div>

<ul style="background-color: white; font-family: Verdana, sans-serif; font-size: 14px; margin-bottom: 0px; margin-top: 1.5em;">
    <li style="line-height: 1.25;">Aplica√ß√µes de miss√£o cr√≠tica e sem perda de dados</li>
</ul>

<ul style="background-color: white; font-family: Verdana, sans-serif; font-size: 14px; margin-bottom: 0px; margin-top: 1.5em;">
    <li style="line-height: 1.25;">99,999% de uptime necess√°rio</li>
</ul>

<ul style="background-color: white; font-family: Verdana, sans-serif; font-size: 14px; margin-bottom: 0px; margin-top: 1.5em;">
    <li style="line-height: 1.25;">N√£o h√° possibilidade de alterar as aplica√ß√µes, optimizando-as para leitura / escrita, para suporte de topologias de master/slave.</li>
</ul>

<div style="background-color: white; font-family: Verdana, sans-serif; font-size: 14px; line-height: 1.5; margin-right: 1.5em; margin-top: 1.5em;"><span style="background-color: transparent; font-family: Arial; font-size: 15px; line-height: normal; white-space: pre-wrap;">Como recomenda√ß√£o para ¬†balanceamento de cargas num cluster Galera, podemos referir o <a style="background-image: url('http://www.softelabs.com/skins/common/icons/icon-external.gif'); background-position: 100% 50%; background-repeat: no-repeat no-repeat; color: #956220; padding-right: 13px;" title="http://haproxy.1wt.eu/" href="http://haproxy.1wt.eu/" target="_blank" rel="external nofollow noopener">HAProxy</a>, pois trata-se de uma solu√ß√£o robusta, escal√°vel, confi√°vel e de elevado desempenho para HTTP e TCP. Na pr√°tica ele recebe as conex√µes dos <img class="size-medium wp-image-125 alignright" src="http://www.fragmentoscaos.eu/wp-content/uploads/2013/11/galera_ClusterDb-300x297.png" alt="" width="300" height="297" />utilizadores/aplica√ß√µes e actua como um proxy, criando um canal entre o user e um dos servidores do cluster. H√° benchmarks bem interessantes indicando desempenho de mais de 40 mil conex√µes por segundo, usando um hardware at√© j√° considerado ultrapassado e numa rede de 10Gbps.</span></div>

<div style="background-color: white; font-family: Verdana, sans-serif; font-size: 14px; line-height: 1.5; margin-right: 1.5em; margin-top: 1.5em;">Abaixo est√° um Diagrama desta implementa√ß√£o de "prova-de-conceito" e uma configura√ß√£o de Galera Cluster, acedida por uma aplica√ß√£o escrita em java e Javascript atrav√©s do RAD¬†<a style="background-image: url('http://www.softelabs.com/skins/common/icons/icon-external.gif'); background-position: 100% 50%; background-repeat: no-repeat no-repeat; color: #956220; padding-right: 13px;" title="http://www.cloudjee.com/our-approach/visual-development" href="http://www.cloudjee.com/our-approach/visual-development" target="_blank" rel="external nofollow noopener">WaveMaker</a>, e que voc√™ pode testar no link que se segue:</div>

<div style="background-color: white; font-family: Verdana, sans-serif; font-size: 14px; line-height: 1.5; margin-right: 1.5em; margin-top: 1.5em;"><a style="background-image: url('http://www.softelabs.com/skins/common/icons/icon-external.gif'); background-position: 100% 50%; background-repeat: no-repeat no-repeat; color: #956220; padding-right: 13px;" title="http://wave.softelabs.com/Db4WaveCluster" href="http://wave.softelabs.com/Db4WaveCluster" target="_blank" rel="external nofollow noopener">Db4WaveCluster</a>¬†(user = demo e password = demo)</div>

<div style="background-color: white; font-family: Verdana, sans-serif; font-size: 14px; line-height: 1.5; margin-right: 1.5em; margin-top: 1.5em;"></div>

<div style="background-color: white; font-family: Verdana, sans-serif; font-size: 14px; line-height: 1.5; margin-right: 1.5em; margin-top: 1.5em;"></div>

<div style="background-color: white; font-family: Verdana, sans-serif; font-size: 14px; line-height: 1.5; margin-right: 1.5em; margin-top: 1.5em;"></div>

<div style="background-color: white; font-family: Verdana, sans-serif; font-size: 14px; line-height: 1.5; margin-right: 1.5em; margin-top: 1.5em;"></div>

<div style="background-color: white; font-family: Verdana, sans-serif; font-size: 14px; line-height: 1.5; margin-right: 1.5em; margin-top: 1.5em;"></div>

<div style="background-color: white; font-family: Verdana, sans-serif; font-size: 14px; line-height: 1.5; margin-right: 1.5em; margin-top: 1.5em;"></div>

<div style="background-color: white; font-family: Verdana, sans-serif; font-size: 14px; line-height: 1.5; margin-right: 1.5em; margin-top: 1.5em;"></div>

<div style="background-color: white; font-family: Verdana, sans-serif; font-size: 14px; line-height: 1.5; margin-right: 1.5em; margin-top: 1.5em;"></div>

<div style="background-color: white; font-family: Verdana, sans-serif; font-size: 14px; line-height: 1.5; margin-right: 1.5em; margin-top: 1.5em;"></div>

<div style="background-color: white; font-family: Verdana, sans-serif; font-size: 14px; line-height: 1.5; margin-right: 1.5em; margin-top: 1.5em;"></div>

<div style="background-color: white; font-family: Verdana, sans-serif; font-size: 14px; line-height: 1.5; margin-right: 1.5em; margin-top: 1.5em;">O site a que acede √© confi√°vel e est√° no dom√≠nio da Softelabs¬†<img class="internal rwrap" style="border: 0px; float: right; margin: 0px; padding: 2px;" src="http://www.softelabs.com/@api/deki/files/3/=Softelabs-smaller.gif" alt="Softelabs-smaller.gif" align="right" /></div>

<div style="background-color: white; font-family: Verdana, sans-serif; font-size: 14px; line-height: 1.5; margin-right: 1.5em; margin-top: 1.5em;">Para mais informa√ß√µes n√£o hesite em contactar-nos atrav√©s do e-mail¬†<a style="background-image: url('http://www.softelabs.com/skins/common/icons/icon-mail.gif'); background-position: 100% 50%; background-repeat: no-repeat no-repeat; color: #956220; padding-right: 18px;" title="mailto:info@softelabs.com" href="mailto:info@softelabs.com" target="_blank" rel="external nofollow noopener">info@softelabs.com</a></div>

<div style="background-color: white; font-family: Verdana, sans-serif; font-size: 14px; line-height: 1.5; margin-right: 1.5em; margin-top: 1.5em;">Por Francisco Gon√ßalves em 05 Nov 2013</div>

</body>
</html>
